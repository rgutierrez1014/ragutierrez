"use strict";var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var tagToText=function(e){var t=document.createElement("div");return t.innerHTML=e,e=t.innerText},shortenText=function(e,t,r){var a=e.indexOf("Unsplash"),n="...";-1!=a&&(t=a+8,n="");var s=e.indexOf("Pexels");return-1!=s&&(t=s+6,n=""),e.length>r?n+e.slice(t,r)+"...":n+e+"..."};function Card(e){var t=e.post;return React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-body"},React.createElement("img",{src:t.thumbnail,className:"card-img-top post-thumbnail",alt:t.title}),React.createElement("ul",{className:"list-group"},React.createElement("li",{className:"list-group-item"},React.createElement("h5",{className:"card-title post-title"},React.createElement("a",{href:t.link},t.title)),React.createElement("p",{className:"card-text post-preview"},shortenText(tagToText(t.content),80,250)),React.createElement("br",null))),React.createElement("a",{href:t.link,className:"btn btn-primary post-link"},"Read more")))}function CardsContainer(e){var t=e.posts;e.active;if(null!=t){var r=(t.length>3?t.slice(4):t).map((function(e,t){return React.createElement("div",{key:e.guid,className:"col-xs-6 col-sm-6 col-md-4 card-col"},React.createElement(Card,{post:e}))}));return React.createElement("div",{className:"row cards-container"},r)}return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-12"},"No latest posts."))}var LatestPosts=function(e){function t(e){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={requestFailed:!1,active:0,rss_url:e.mediumRSSFeedURL},r}return _inherits(t,React.Component),_createClass(t,[{key:"componentDidMount",value:function(){var e=this,t="https://api.rss2json.com/v1/api.json?rss_url="+this.state.rss_url;fetch(t).then((function(e){if(!e.ok)throw Error("Network request failed");return e})).then((function(e){return e.json()})).then((function(t){var r=t.items.filter((function(e){return e.categories.length>0}));e.setState({mediumPosts:r})}),(function(t){e.setState({requestFailed:!0,error:t})}))}},{key:"render",value:function(){return React.createElement("div",{className:"container"},React.createElement("h1",{className:"section-title"},"Latest Posts"),React.createElement("div",{className:"spacer"}),React.createElement(CardsContainer,{posts:this.state.mediumPosts,active:this.state.active}),React.createElement("div",{className:"row more-at-medium"},React.createElement("div",{className:"col-xs-12 text-center"},React.createElement("a",{href:"https://robert-a-gutierrez.medium.com",className:"btn btn-primary"},"View more posts on Medium"))))}}]),t}(),domContainer=document.querySelector("#latest-posts"),rssFeedLink=domContainer.getAttribute("data-medium-rss");ReactDOM.render(React.createElement(LatestPosts,{mediumRSSFeedURL:rssFeedLink}),domContainer);